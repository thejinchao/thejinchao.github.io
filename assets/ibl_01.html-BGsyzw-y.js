import{_ as c,c as x,b as m,a as l,d as s,o as j}from"./app-xc5fWoqI.js";const n="/assets/ibl_01-fcR9UjtL.png",t={};function e(i,a){return j(),x("div",null,a[0]||(a[0]=[m("h1",{id:"环境光渲染-一",tabindex:"-1"},[m("a",{class:"header-anchor",href:"#环境光渲染-一"},[m("span",null,"环境光渲染(一）")])],-1),m("hr",null,null,-1),m("h2",{id:"_1-定义",tabindex:"-1"},[m("a",{class:"header-anchor",href:"#_1-定义"},[m("span",null,"1. 定义")])],-1),m("p",null,"使用一张HDR环境图片作为环境光源，每个像素表示一个光源和入射方向，回顾一下渲染方程",-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D45C TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.524em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D45C TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-msub",{space:"4"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3A9"})])])])]),m("mjx-mrow",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c28 TEX-S2"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D458 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})])])]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D450 TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-mo",{class:"mjx-n",space:"3"},[m("mjx-c",{class:"mjx-c2B"})]),m("mjx-msub",{space:"3"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D453 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em","margin-left":"-0.06em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D460 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.474em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-TeXAtom",{space:"2",texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.524em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D45C TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c29 TEX-S2"})])]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.474em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.311em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})])])])]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.3em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("msub",null,[m("mi",null,"L"),m("mi",null,"o")]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"o")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",null,"="),m("msub",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",{mathvariant:"normal"},"Ω")])]),m("mrow",{"data-mjx-texclass":"INNER"},[m("mo",{"data-mjx-texclass":"OPEN"},"("),m("msub",null,[m("mi",null,"k"),m("mi",null,"d")]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"c"),m("mi",null,"π")])]),m("mo",null,"+"),m("msub",null,[m("mi",null,"f"),m("mi",null,"s")]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"→")])]),m("mo",null,","),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"o")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",{"data-mjx-texclass":"CLOSE"},")")]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"ω"),m("mo",{stretchy:"false"},"→")])]),m("mi",null,"i")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"n"),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")])])])],-1),m("p",null,"显然在实时渲染系统中，针对环境贴图做完整的积分运算代价非常昂贵，所以需要做预处理",-1),m("h2",{id:"_2-漫反射部分",tabindex:"-1"},[m("a",{class:"header-anchor",href:"#_2-漫反射部分"},[m("span",null,"2.漫反射部分")])],-1),m("h3",{id:"_2-1-原理",tabindex:"-1"},[m("a",{class:"header-anchor",href:"#_2-1-原理"},[m("span",null,"2.1 原理")])],-1),m("p",null,"只考虑渲染方程中的漫反射部分",-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45C TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.524em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D45C TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-msub",{space:"4"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D458 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})])])]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D450 TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3A9"})])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.474em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.311em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})])])])]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.3em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("msub",null,[m("mi",null,"L"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"o"),m("mi",null,"d")])]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"o")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",null,"="),m("msub",null,[m("mi",null,"k"),m("mi",null,"d")]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"c"),m("mi",null,"π")])]),m("msub",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",{mathvariant:"normal"},"Ω")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"ω"),m("mo",{stretchy:"false"},"→")])]),m("mi",null,"i")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"n"),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")])])])],-1),m("p",null,"将其中之和光照贴图相关的部分做一个预计算，针对所有球面方向，每个方向做一个半球积分",-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3A9"})])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.474em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.311em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})])])])]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.3em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("msub",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",{mathvariant:"normal"},"Ω")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"ω"),m("mo",{stretchy:"false"},"→")])]),m("mi",null,"i")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"n"),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")])])])],-1),m("p",null,"将结果存成一张新的环境贴图Irradiance,那么最终实时渲染时，漫反射部分可以这个贴图来计算",-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45C TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.524em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D45C TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mtext",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c54"}),m("mjx-c",{class:"mjx-c65"}),m("mjx-c",{class:"mjx-c78"}),m("mjx-c",{class:"mjx-c43"}),m("mjx-c",{class:"mjx-c75"}),m("mjx-c",{class:"mjx-c62"}),m("mjx-c",{class:"mjx-c65"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mtext",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c49"}),m("mjx-c",{class:"mjx-c72"}),m("mjx-c",{class:"mjx-c72"}),m("mjx-c",{class:"mjx-c4D"}),m("mjx-c",{class:"mjx-c61"}),m("mjx-c",{class:"mjx-c70"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-TeXAtom",{space:"2",texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.3em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"3"},[m("mjx-c",{class:"mjx-c2217"})]),m("mjx-msub",{space:"3"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D458 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n",space:"3"},[m("mjx-c",{class:"mjx-c2217"})]),m("mjx-mi",{class:"mjx-i",space:"3"},[m("mjx-c",{class:"mjx-c1D450 TEX-I"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("msub",null,[m("mi",null,"L"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"o"),m("mi",null,"d")])]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"o")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",null,"="),m("mtext",null,"TexCube"),m("mo",{stretchy:"false"},"("),m("mtext",null,"IrrMap"),m("mo",null,","),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"n"),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",null,"∗"),m("msub",null,[m("mi",null,"k"),m("mi",null,"d")]),m("mo",null,"∗"),m("mi",null,"c")])])],-1),l('<h3 id="_2-2-漫反射环境贴图的生成" tabindex="-1"><a class="header-anchor" href="#_2-2-漫反射环境贴图的生成"><span>2.2 漫反射环境贴图的生成</span></a></h3><figure><img src="'+n+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="_2-2-1-球坐标积分" tabindex="-1"><a class="header-anchor" href="#_2-2-1-球坐标积分"><span>2.2.1 球坐标积分</span></a></h4><p>将立体角转换为球坐标</p>',4),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mtable",{style:{"min-width":"18.707em"}},[m("mjx-table",null,[m("mjx-itable",null,[m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-bottom":"0.15em"}},[m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3A9"})])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.474em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.311em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})])])])]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mover",null,[m("mjx-over",{style:{"padding-bottom":"0.105em","padding-left":"0.3em","margin-bottom":"-0.516em"}},[m("mjx-mo",{class:"mjx-n",style:{width:"0","margin-left":"-0.25em"}},[m("mjx-c",{class:"mjx-c20D7 TEX-V"})])]),m("mjx-base",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})])])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D714 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-msubsup",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD",style:{"margin-left":"0.647em"}},[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-spacer",{style:{"margin-top":"1.486em"}}),m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])]),m("mjx-msubsup",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD",style:{"margin-left":"0.647em"}},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2F"})])]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})])]),m("mjx-spacer",{style:{"margin-top":"1.309em"}}),m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-mi",{class:"mjx-i",space:"2"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2248"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])])])])])])]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.124em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.124em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-tstrut")])])])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[m("mtr",null,[m("mtd"),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("msub",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",{mathvariant:"normal"},"Ω")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"ω"),m("mo",{stretchy:"false"},"→")])]),m("mi",null,"i")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mover",null,[m("mi",null,"n"),m("mo",{stretchy:"false"},"→")])]),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("msub",null,[m("mi",null,"ω"),m("mi",null,"i")])])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("msubsup",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"ϕ"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mn",null,"2"),m("mi",null,"π")])]),m("msubsup",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"θ"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"π"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mo",null,"/")]),m("mn",null,"2")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("mi",null,"ϕ"),m("mo",null,","),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("mi",null,"θ"),m("mi",null,"d"),m("mi",null,"ϕ")])]),m("mtr",null,[m("mtd",null,[m("mo",null,"≈")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mrow",null,[m("mn",null,"2"),m("mi",null,"π")]),m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"π"),m("mrow",null,[m("mn",null,"2"),m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"j"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"j")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"π"),m("mrow",null,[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")]),m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"j"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"j")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")])])])])])],-1),m("p",null,[s("其中："),m("mjx-container",{class:"MathJax",jax:"CHTML",style:{position:"relative"}},[m("mjx-math",{class:"MJX-TEX","aria-hidden":"true"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mstyle",{space:"4"},[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])])])])])])]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-mspace"),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mstyle",{space:"4"},[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])])]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"inline"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"j")]),m("mo",null,"="),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"j"),m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("mn",null,"2"),m("mi",null,"π"),m("mspace",{linebreak:"newline"}),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",null,"="),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"i"),m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"π"),m("mn",null,"2")])])])])]),s(" 代码:")],-1),l(`<div class="language-cpp" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line">vec3 irradiance <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  </span>
<span class="line"></span>
<span class="line"><span class="token comment">// tangent space calculation from origin point(x&#39;=up, y&#39;=N, z&#39;=left)(left-hand)</span></span>
<span class="line">vec3 up    <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//x&#39;</span></span>
<span class="line">vec3 left <span class="token operator">=</span> <span class="token function">cross</span><span class="token punctuation">(</span>up<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//z&#39;</span></span>
<span class="line">up         <span class="token operator">=</span> <span class="token function">cross</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//x&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">float</span> sampleDelta <span class="token operator">=</span> <span class="token number">0.025</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> nrSamples <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">float</span> phi <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span> phi <span class="token operator">&lt;</span> <span class="token number">2.0</span> <span class="token operator">*</span> PI<span class="token punctuation">;</span> phi <span class="token operator">+=</span> sampleDelta<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">float</span> theta <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span> theta <span class="token operator">&lt;</span> <span class="token number">0.5</span> <span class="token operator">*</span> PI<span class="token punctuation">;</span> theta <span class="token operator">+=</span> sampleDelta<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">float</span> cosTheta <span class="token operator">=</span> <span class="token function">cos</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">float</span> sinTheta <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">        <span class="token comment">// spherical to cartesian (in tangent space)</span></span>
<span class="line">        vec3 tangentSample <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>phi<span class="token punctuation">)</span> <span class="token operator">*</span> sinTheta<span class="token punctuation">,</span> cosTheta<span class="token punctuation">,</span> <span class="token function">sin</span><span class="token punctuation">(</span>phi<span class="token punctuation">)</span> <span class="token operator">*</span> sinTheta<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// tangent space to world</span></span>
<span class="line">        vec3 sampleVec <span class="token operator">=</span> tangentSample<span class="token punctuation">.</span>x <span class="token operator">*</span> up <span class="token operator">+</span> tangentSample<span class="token punctuation">.</span>y <span class="token operator">*</span> N <span class="token operator">+</span> tangentSample<span class="token punctuation">.</span>z <span class="token operator">*</span> left<span class="token punctuation">;</span> </span>
<span class="line"></span>
<span class="line">        irradiance <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>environmentMap<span class="token punctuation">,</span> sampleVec<span class="token punctuation">)</span><span class="token punctuation">.</span>rgb <span class="token operator">*</span> cosTheta <span class="token operator">*</span> sinTheta<span class="token punctuation">;</span></span>
<span class="line">        nrSamples<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">irradiance <span class="token operator">=</span> PI <span class="token operator">*</span> irradiance <span class="token operator">*</span> <span class="token keyword">float</span><span class="token punctuation">(</span>nrSamples<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre></div><h4 id="_2-2-2-蒙特卡洛估算" tabindex="-1"><a class="header-anchor" href="#_2-2-2-蒙特卡洛估算"><span>2.2.2 蒙特卡洛估算</span></a></h4><p>使用蒙特卡洛采样估算积分</p>`,3),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mstyle",null,[m("mjx-msubsup",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD",style:{"margin-left":"0.647em"}},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D44F TEX-I"})])]),m("mjx-spacer",{style:{"margin-top":"1.665em"}}),m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D44E TEX-I"})])])])]),m("mjx-mi",{class:"mjx-i",space:"2"},[m("mjx-c",{class:"mjx-c1D453 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D465 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D465 TEX-I"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c2248"})]),m("mjx-mstyle",{space:"4"},[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D441 TEX-I"})])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.2em","padding-left":"0.408em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D441 TEX-I"})])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])])])])])])]),m("mjx-mstyle",{space:"2"},[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D453 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D44B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em","margin-left":"-0.024em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})])])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-mtext",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c70"}),m("mjx-c",{class:"mjx-c64"}),m("mjx-c",{class:"mjx-c66"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D44B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em","margin-left":"-0.024em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})])])])])])])])])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("msubsup",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"a")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"b")])]),m("mi",null,"f"),m("mo",{stretchy:"false"},"("),m("mi",null,"x"),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("mi",null,"x"),m("mo",null,"≈"),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"N")])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"1")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"N")])]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mrow",null,[m("mi",null,"f"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"X"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")]),m("mrow",null,[m("mtext",null,"pdf"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"X"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")])])])])])])],-1),m("p",null,[s("其中"),m("mjx-container",{class:"MathJax",jax:"CHTML",style:{position:"relative"}},[m("mjx-math",{class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mtext",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c70"}),m("mjx-c",{class:"mjx-c64"}),m("mjx-c",{class:"mjx-c66"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D465 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"inline"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[m("mtext",null,"pdf"),m("mo",{stretchy:"false"},"("),m("mi",null,"x"),m("mo",{stretchy:"false"},")")])])]),s("函数是采样时使用的概率分布函数。 方法1： 对于要计算的这个二维积分,如果使用的随机采样是"),m("mjx-container",{class:"MathJax",jax:"CHTML",style:{position:"relative"}},[m("mjx-math",{class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"inline"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[m("mi",null,"ϕ")])])]),s("在"),m("mjx-container",{class:"MathJax",jax:"CHTML",style:{position:"relative"}},[m("mjx-math",{class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c5B"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-mn",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c5D"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"inline"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[m("mo",{stretchy:"false"},"["),m("mn",null,"0"),m("mo",null,","),m("mn",null,"2"),m("mi",null,"π"),m("mo",{stretchy:"false"},"]")])])]),s("之间均匀分布，"),m("mjx-container",{class:"MathJax",jax:"CHTML",style:{position:"relative"}},[m("mjx-math",{class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"inline"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[m("mi",null,"θ")])])]),s("在"),m("mjx-container",{class:"MathJax",jax:"CHTML",style:{position:"relative"}},[m("mjx-math",{class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c5B"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-mi",{class:"mjx-i",space:"2"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2F"})])]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c5D"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"inline"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[m("mo",{stretchy:"false"},"["),m("mn",null,"0"),m("mo",null,","),m("mi",null,"π"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mo",null,"/")]),m("mn",null,"2"),m("mo",{stretchy:"false"},"]")])])]),s("之间均匀分布，那么")],-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mtext",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c70"}),m("mjx-c",{class:"mjx-c64"}),m("mjx-c",{class:"mjx-c66"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c31"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2F"})])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-mtext",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c70"}),m("mjx-c",{class:"mjx-c64"}),m("mjx-c",{class:"mjx-c66"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2F"})])]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("mtext",null,"pdf"),m("mo",{stretchy:"false"},"("),m("mi",null,"ϕ"),m("mo",{stretchy:"false"},")"),m("mo",null,"="),m("mn",null,"1"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mo",null,"/")]),m("mo",{stretchy:"false"},"("),m("mn",null,"2"),m("mi",null,"π"),m("mo",{stretchy:"false"},")"),m("mo",null,","),m("mtext",null,"pdf"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mo",null,"="),m("mn",null,"2"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mo",null,"/")]),m("mi",null,"π")])])],-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mtable",{style:{"min-width":"20.457em"}},[m("mjx-table",null,[m("mjx-itable",null,[m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-bottom":"0.15em"}},[m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-msubsup",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD",style:{"margin-left":"0.647em"}},[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-spacer",{style:{"margin-top":"1.486em"}}),m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])]),m("mjx-msubsup",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD",style:{"margin-left":"0.647em"}},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2F"})])]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})])]),m("mjx-spacer",{style:{"margin-top":"1.309em"}}),m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-mi",{class:"mjx-i",space:"2"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.124em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-mrow",{space:"2"},[m("mjx-mo",{class:"mjx-s4"},[m("mjx-c",{class:"mjx-c28 TEX-S4"})]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-s4"},[m("mjx-c",{class:"mjx-c29 TEX-S4"})])]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.124em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D441 TEX-I"})])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.2em","padding-left":"0.408em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D441 TEX-I"})])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-tstrut")])])])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[m("mtr",null,[m("mtd"),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("msubsup",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"ϕ"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mn",null,"2"),m("mi",null,"π")])]),m("msubsup",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"θ"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"π"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mo",null,"/")]),m("mn",null,"2")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("mi",null,"ϕ"),m("mo",null,","),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("mi",null,"θ"),m("mi",null,"d"),m("mi",null,"ϕ")])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mrow",null,[m("mn",null,"2"),m("mi",null,"π")]),m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"j"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("mrow",{"data-mjx-texclass":"INNER"},[m("mo",{"data-mjx-texclass":"OPEN"},"("),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"π"),m("mrow",null,[m("mn",null,"2"),m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"j")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"π"),m("mrow",null,[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")]),m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"j"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"j")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"π"),m("mi",null,"N")])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"N")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"i")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")])])])])])],-1),m("p",null,"其中",-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D709 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mstyle",{space:"4"},[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D709 TEX-I"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"i")]),m("mo",null,"="),m("mn",null,"2"),m("mi",null,"π"),m("mi",null,"ξ"),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",null,"="),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mi",null,"π"),m("mn",null,"2")])]),m("mi",null,"ξ")])])],-1),m("p",null,[m("mjx-container",{class:"MathJax",jax:"CHTML",style:{position:"relative"}},[m("mjx-math",{class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D709 TEX-I"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"inline"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[m("mi",null,"ξ")])])]),s("表示均匀分布在[0,1]之间的随机变量")],-1),m("p",null,"方法2： 上面的采样方法在极点位置会比较密集，在赤道位置比较稀疏，由于漫反射是均匀分布的，如果采样点也是均匀分布在半球面上的，收敛速度会比较快，这种情况下",-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mtext",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c70"}),m("mjx-c",{class:"mjx-c64"}),m("mjx-c",{class:"mjx-c66"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c31"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2F"})])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-mtext",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c70"}),m("mjx-c",{class:"mjx-c64"}),m("mjx-c",{class:"mjx-c66"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mi",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("mtext",null,"pdf"),m("mo",{stretchy:"false"},"("),m("mi",null,"ϕ"),m("mo",{stretchy:"false"},")"),m("mo",null,"="),m("mn",null,"1"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mo",null,"/")]),m("mo",{stretchy:"false"},"("),m("mn",null,"2"),m("mi",null,"π"),m("mo",{stretchy:"false"},")"),m("mo",null,","),m("mtext",null,"pdf"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mo",null,"="),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")")])])],-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-mtable",{style:{"min-width":"17.253em"}},[m("mjx-table",null,[m("mjx-itable",null,[m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-bottom":"0.15em"}},[m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-msubsup",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD",style:{"margin-left":"0.647em"}},[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])]),m("mjx-spacer",{style:{"margin-top":"1.486em"}}),m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])]),m("mjx-msubsup",{space:"2"},[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c222B TEX-S2"})]),m("mjx-script",{style:{"vertical-align":"-0.896em","margin-left":"-0.388em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD",style:{"margin-left":"0.647em"}},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-TeXAtom",{texclass:"ORD"},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2F"})])]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})])]),m("mjx-spacer",{style:{"margin-top":"1.309em"}}),m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-mi",{class:"mjx-i",space:"2"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c73"}),m("mjx-c",{class:"mjx-c69"}),m("mjx-c",{class:"mjx-c6E"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D451 TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])])])])])])]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})])])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.124em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-mrow",{space:"2"},[m("mjx-mo",{class:"mjx-s4"},[m("mjx-c",{class:"mjx-c28 TEX-S4"})]),m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mo",{class:"mjx-s4"},[m("mjx-c",{class:"mjx-c29 TEX-S4"})])]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em","padding-bottom":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mrow",null,[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c31"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.124em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.111em","padding-left":"0.356em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D45B TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mn",{class:"mjx-n",size:"s"},[m("mjx-c",{class:"mjx-c32"})])])])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D457 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-tstrut")])]),m("mjx-mtr",null,[m("mjx-mtd",{style:{"text-align":"right","padding-right":"0","padding-top":"0.15em"}},[m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-tstrut")]),m("mjx-mtd",{style:{"text-align":"left","padding-left":"0","padding-top":"0.15em"}},[m("mjx-mstyle",null,[m("mjx-mfrac",null,[m("mjx-frac",{type:"d"},[m("mjx-num",null,[m("mjx-nstrut",{type:"d"}),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c32"})])]),m("mjx-dbox",null,[m("mjx-dtable",null,[m("mjx-line",{type:"d"}),m("mjx-row",null,[m("mjx-den",null,[m("mjx-dstrut",{type:"d"}),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D441 TEX-I"})])])])])])])])]),m("mjx-munderover",{space:"2"},[m("mjx-over",{style:{"padding-bottom":"0.2em","padding-left":"0.408em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D441 TEX-I"})])])]),m("mjx-box",null,[m("mjx-munder",null,[m("mjx-row",null,[m("mjx-base",null,[m("mjx-mo",{class:"mjx-lop"},[m("mjx-c",{class:"mjx-c2211 TEX-S2"})])])]),m("mjx-row",null,[m("mjx-under",{style:{"padding-top":"0.167em","padding-left":"0.148em"}},[m("mjx-TeXAtom",{size:"s",texclass:"ORD"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c30"})])])])])])])]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D43F TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-mi",{class:"mjx-n",space:"2"},[m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})]),m("mjx-tstrut")])])])])])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[m("mtr",null,[m("mtd"),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("msubsup",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"ϕ"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mn",null,"2"),m("mi",null,"π")])]),m("msubsup",null,[m("mo",{"data-mjx-texclass":"OP"},"∫"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"θ"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"π"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mo",null,"/")]),m("mn",null,"2")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("mi",null,"ϕ"),m("mo",null,","),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"sin"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mi",null,"θ"),m("mo",{stretchy:"false"},")"),m("mi",null,"d"),m("mi",null,"θ"),m("mi",null,"d"),m("mi",null,"ϕ")])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("mi",null,"π")])]),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mrow",null,[m("mn",null,"2"),m("mi",null,"π")]),m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"j"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("mrow",{"data-mjx-texclass":"INNER"},[m("mo",{"data-mjx-texclass":"OPEN"},"("),m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"1"),m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"j")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"2"),m("mrow",null,[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")]),m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"j"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"1")])])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("msub",null,[m("mi",null,"n"),m("mn",null,"2")])])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"j")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")])]),m("mtr",null,[m("mtd",null,[m("mo",null,"=")]),m("mtd",null,[m("mstyle",{displaystyle:"true",scriptlevel:"0"},[m("mfrac",null,[m("mn",null,"2"),m("mi",null,"N")])]),m("munderover",null,[m("mo",{"data-mjx-texclass":"OP"},"∑"),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"i"),m("mo",null,"="),m("mn",null,"0")]),m("mrow",{"data-mjx-texclass":"ORD"},[m("mi",null,"N")])]),m("msub",null,[m("mi",null,"L"),m("mi",null,"i")]),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"i")]),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")"),m("mi",null,"cos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",{stretchy:"false"},")")])])])])])],-1),m("p",null,"其中",-1),m("mjx-container",{class:"MathJax",jax:"CHTML",display:"true",style:{position:"relative"}},[m("mjx-math",{display:"true",style:{"margin-left":"0","margin-right":"0"},class:"MJX-TEX","aria-hidden":"true"},[m("mjx-msub",null,[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D719 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mn",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c32"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D70B TEX-I"})]),m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D709 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2C"})]),m("mjx-msub",{space:"2"},[m("mjx-mi",{class:"mjx-i"},[m("mjx-c",{class:"mjx-c1D703 TEX-I"})]),m("mjx-script",{style:{"vertical-align":"-0.15em"}},[m("mjx-mi",{class:"mjx-i",size:"s"},[m("mjx-c",{class:"mjx-c1D456 TEX-I"})])])]),m("mjx-mo",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c3D"})]),m("mjx-mi",{class:"mjx-n",space:"4"},[m("mjx-c",{class:"mjx-c61"}),m("mjx-c",{class:"mjx-c72"}),m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c63"}),m("mjx-c",{class:"mjx-c6F"}),m("mjx-c",{class:"mjx-c73"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c2061"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c28"})]),m("mjx-mn",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c31"})]),m("mjx-mo",{class:"mjx-n",space:"3"},[m("mjx-c",{class:"mjx-c2212"})]),m("mjx-mi",{class:"mjx-i",space:"3"},[m("mjx-c",{class:"mjx-c1D709 TEX-I"})]),m("mjx-mo",{class:"mjx-n"},[m("mjx-c",{class:"mjx-c29"})])]),m("mjx-assistive-mml",{unselectable:"on",display:"block"},[m("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[m("msub",null,[m("mi",null,"ϕ"),m("mi",null,"i")]),m("mo",null,"="),m("mn",null,"2"),m("mi",null,"π"),m("mi",null,"ξ"),m("mo",null,","),m("msub",null,[m("mi",null,"θ"),m("mi",null,"i")]),m("mo",null,"="),m("mi",null,"arccos"),m("mo",{"data-mjx-texclass":"NONE"},"⁡"),m("mo",{stretchy:"false"},"("),m("mn",null,"1"),m("mo",null,"−"),m("mi",null,"ξ"),m("mo",{stretchy:"false"},")")])])],-1),l(`<div class="language-cpp" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line">vec3 irradiance <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  </span>
<span class="line"></span>
<span class="line">vec3 up <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//x&#39;</span></span>
<span class="line">vec3 left <span class="token operator">=</span> <span class="token function">cross</span><span class="token punctuation">(</span>up<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//z&#39;</span></span>
<span class="line">up <span class="token operator">=</span> <span class="token function">cross</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//x&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span><span class="token punctuation">(</span>uint i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>sampleCounts<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//http://holger.dammertz.org/stuff/notes_HammersleyOnHemisphere.html</span></span>
<span class="line">    vec2 uv <span class="token operator">=</span> <span class="token function">Hammersley</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> totalCounts<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// tangent space sample point</span></span>
<span class="line">    <span class="token keyword">float</span> phi <span class="token operator">=</span> uv<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">*</span> PI<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">float</span> cosTheta <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> uv<span class="token punctuation">.</span>x<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">float</span> sinTheta <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>cosTheta<span class="token operator">*</span>cosTheta<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    vec3 tangentSample <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>phi<span class="token punctuation">)</span> <span class="token operator">*</span> sinTheta<span class="token punctuation">,</span> cosTheta<span class="token punctuation">,</span> <span class="token function">sin</span><span class="token punctuation">(</span>phi<span class="token punctuation">)</span> <span class="token operator">*</span> sinTheta<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// tangent space to world</span></span>
<span class="line">    vec3 sampleVec <span class="token operator">=</span> tangentSample<span class="token punctuation">.</span>x <span class="token operator">*</span> up <span class="token operator">+</span> tangentSample<span class="token punctuation">.</span>y <span class="token operator">*</span> N <span class="token operator">+</span> tangentSample<span class="token punctuation">.</span>z <span class="token operator">*</span> left<span class="token punctuation">;</span> </span>
<span class="line"></span>
<span class="line">    irradiance <span class="token operator">+=</span> <span class="token function">texture2D</span><span class="token punctuation">(</span>s_texSkybox<span class="token punctuation">,</span> sampleVec<span class="token punctuation">)</span><span class="token punctuation">.</span>rgb <span class="token operator">*</span> cosTheta<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">irradiance <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>irradiance <span class="token operator">/</span> <span class="token keyword">float</span><span class="token punctuation">(</span>sampleCounts<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre></div>`,1)]))}const o=c(t,[["render",e],["__file","ibl_01.html.vue"]]),p=JSON.parse('{"path":"/note/graphics/image_based_lighting/ibl_01.html","title":"环境光渲染(一）","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"1. 定义","slug":"_1-定义","link":"#_1-定义","children":[]},{"level":2,"title":"2.漫反射部分","slug":"_2-漫反射部分","link":"#_2-漫反射部分","children":[{"level":3,"title":"2.1 原理","slug":"_2-1-原理","link":"#_2-1-原理","children":[]},{"level":3,"title":"2.2 漫反射环境贴图的生成","slug":"_2-2-漫反射环境贴图的生成","link":"#_2-2-漫反射环境贴图的生成","children":[]}]}],"git":{"updatedTime":1740235322000,"contributors":[{"name":"thejinchao","username":"thejinchao","email":"thejinchao@gmail.com","commits":1,"url":"https://github.com/thejinchao"}]},"filePathRelative":"note/graphics/image_based_lighting/ibl_01.md"}');export{o as comp,p as data};
